{"version":3,"sources":["redux/calculator/calculator-reducer.js","redux/product/product-redusers.jsx","redux/store.js","components/Routes/publicRoute.js","components/Routes/privateRoute.js","App.js","index.js","routes.js","redux/product/product-actions.jsx","redux/registration/Selectors.js","redux/calculator/calculator-action.js","redux/registration/AxiosInstance.js","redux/registration/Operations.js","components/common/Loader/index.jsx","redux/registration/UserSlice.js"],"names":["initialState","kcal","productsNotRecommended","calcData","createReducer","calcSuccess","_","payload","onLogoutSuccess","error","calcError","onLogoutRequest","loading","calcRequest","combineReducers","diaryInfoState","email","date","products","dayNorm","totalKcalPerDay","kcalRemain","percentage","diaryInfo","productActions","addProductSuccess","state","dateEatenProductsSuccess","deleteProductIdSuccess","newArray","filter","product","id","addProductRequest","action","addProductError","deleteProductIdError","dateEatenProductsRequest","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistConfig","key","storage","whitelist","rootReducer","user","userReducer","productReducer","persistedReducer","persistReducer","store","configureStore","reducer","persistor","persistStore","PublicRoute","Component","component","redirectTo","routeProps","isLogin","useSelector","getIsLoggedOn","render","props","restricted","to","PrivateRoute","localStorage","getItem","routes","main","AuthView","lazy","CalculatorView","DiaryView","MainPageView","RegistrationView","App","dispatch","useDispatch","useEffect","getUser","autoClose","fallback","Loader","path","exact","calculator","auth","diary","reg","ReactDOM","StrictMode","document","getElementById","createAction","dateEatenProductsError","deleteProductIdRequest","isLoggedOn","getUserName","name","axiosInstance","axios","create","baseURL","interceptors","request","use","config","token","headers","Authorization","getState","a","onSignUpRequest","get","response","onGetUser","data","onLoginFailure","message","login","onLoginRequest","post","then","setItem","onLoginSuccess","catch","signUp","password","onSignUpSuccess","onSignUpFailure","logout","removeItem","onLogoutFailure","useStyles","makeStyles","root","position","top","left","transform","color","classes","className","createSlice","isLoading","reducers","actions","onLogout"],"mappings":"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","file":"static/js/main.9dbbb37a.chunk.js","sourcesContent":["import { createReducer } from '@reduxjs/toolkit'\nimport { combineReducers } from 'redux'\nimport { calcRequest, calcSuccess, calcError } from './calculator-action'\nimport { onLogoutSuccess, onLogoutRequest } from '../registration/UserSlice'\n\nconst initialState = { kcal: null, productsNotRecommended: null }\n\nconst calcData = createReducer(initialState, {\n  [calcSuccess]: (_, { payload }) => payload,\n  [onLogoutSuccess]: () => initialState,\n})\n\nconst error = createReducer(null, {\n  [calcError]: (_, { payload }) => payload,\n  [onLogoutRequest]: () => null,\n})\n\nconst loading = createReducer(false, {\n  [calcRequest]: () => true,\n  [calcSuccess]: () => false,\n  [calcError]: () => false,\n})\nexport default combineReducers({ calcData, error, loading })\n","import { combineReducers } from 'redux'\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nimport productActions from './product-actions'\r\nimport { onLogoutSuccess, onLogoutRequest } from '../registration/UserSlice'\r\n\r\nconst diaryInfoState = {\r\n  email: '',\r\n  date: '',\r\n  products: [],\r\n  dayNorm: 0,\r\n  totalKcalPerDay: 0,\r\n  kcalRemain: 0,\r\n  percentage: null,\r\n  productsNotRecommended: [],\r\n}\r\n\r\nconst diaryInfo = createReducer(diaryInfoState, {\r\n  [productActions.addProductSuccess]: (state, { payload }) => {\r\n    return {\r\n      ...state,\r\n      products: [payload, ...state.products],\r\n    }\r\n  },\r\n  [productActions.dateEatenProductsSuccess]: (_, { payload }) => payload,\r\n  [productActions.deleteProductIdSuccess]: (state, { payload }) => {\r\n    const oldArray = state.products\r\n    const newArray = oldArray.filter(product => product.id !== payload)\r\n    const newState = {\r\n      ...state,\r\n      products: newArray,\r\n    }\r\n    return newState\r\n  },\r\n  [onLogoutSuccess]: () => diaryInfoState,\r\n})\r\n\r\nconst loading = createReducer(false, {\r\n  [productActions.addProductRequest]: (state, action) => true,\r\n  [productActions.addProductSuccess]: (state, action) => false,\r\n  [productActions.addProductError]: (state, action) => false,\r\n})\r\n\r\nconst error = createReducer(null, {\r\n  [productActions.deleteProductIdError]: (_, { payload }) => payload,\r\n  [productActions.addProductRequest]: () => null,\r\n  [onLogoutRequest]: () => null,\r\n  [productActions.dateEatenProductsRequest]: () => null,\r\n})\r\n\r\nexport default combineReducers({\r\n  diaryInfo,\r\n  loading,\r\n  error,\r\n  // dayInfo\r\n})\r\n","import {\n  configureStore,\n  getDefaultMiddleware,\n  combineReducers,\n} from '@reduxjs/toolkit'\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport calcData from './calculator/calculator-reducer'\nimport userReducer from './registration/UserSlice'\nimport productReducer from './product/product-redusers'\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n]\nconst persistConfig = {\n  key: 'user',\n  storage,\n  whitelist: ['token'],\n}\n\nconst rootReducer = combineReducers({\n  kcal: calcData,\n  user: userReducer,\n  products: productReducer,\n})\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware,\n})\n\nexport const persistor = persistStore(store)\n","import { Route, Redirect } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { getIsLoggedOn } from '../../redux/registration/Selectors'\n\nconst PublicRoute = ({ component: Component, redirectTo, ...routeProps }) => {\n  const isLogin = useSelector(getIsLoggedOn)\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        isLogin && routeProps.restricted ? (\n          <Redirect to={redirectTo} />\n        ) : (\n          <Component {...props} />\n        )\n      }\n    />\n  )\n}\n\nexport default PublicRoute\n","import { Route, Redirect } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { getIsLoggedOn } from '../../redux/registration/Selectors'\nimport routes from '../../routes'\n\nconst PrivateRoute = props => {\n  const isLogin = useSelector(getIsLoggedOn)\n\n  return isLogin || localStorage.getItem('token') ? (\n    <Route {...props} />\n  ) : (\n    <Redirect to={routes.main} />\n  )\n}\n\nexport default PrivateRoute\n","import { lazy } from 'react'\nimport { Suspense, useEffect } from 'react'\nimport { Switch } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport routes from './routes'\nimport { getUser } from './redux/registration/Operations'\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport PublicRoute from './components/Routes/publicRoute'\nimport PrivateRoute from './components/Routes/privateRoute'\nimport Loader from './components/common/Loader'\nimport { getIsLoggedOn } from './redux/registration/Selectors'\n\nconst AuthView = lazy(\n  () => import('./views/AuthView') /* webpackChunkName: \"AuthView\" */,\n)\nconst CalculatorView = lazy(\n  () =>\n    import('./views/CalculatorView') /* webpackChunkName: \"CalculatorView\" */,\n)\nconst DiaryView = lazy(\n  () => import('./views/DiaryView') /* webpackChunkName: \"DiaryView\" */,\n)\nconst MainPageView = lazy(\n  () => import('./views/MainPageView') /* webpackChunkName: \"MainPageView\" */,\n)\nconst RegistrationView = lazy(\n  () =>\n    import(\n      './views/RegistrationView'\n    ) /* webpackChunkName: \"RegiastrationView\" */,\n)\n\nfunction App() {\n  const dispatch = useDispatch()\n  const isLogin = useSelector(getIsLoggedOn)\n\n  useEffect(() => {\n    if (isLogin || localStorage.getItem('token')) dispatch(getUser())\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch])\n\n  return (\n    <>\n      <ToastContainer autoClose={2000} />\n      <Suspense fallback={<Loader />}>\n        <Switch>\n          <PublicRoute\n            path={routes.main}\n            exact\n            restricted\n            component={MainPageView}\n            redirectTo={routes.calculator}\n          />\n          <PublicRoute\n            path={routes.auth}\n            restricted\n            component={AuthView}\n            redirectTo={routes.diary}\n          />\n          <PublicRoute\n            path={routes.reg}\n            restricted\n            component={RegistrationView}\n            redirectTo={routes.diary}\n          />\n          <PrivateRoute path={routes.calculator} component={CalculatorView} />\n          <PrivateRoute path={routes.diary} component={DiaryView} />\n        </Switch>\n      </Suspense>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { store, persistor } from './redux/store'\nimport './index.scss'\nimport App from './App'\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n          <App />\n        </PersistGate>\n      </Provider>\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root'),\n)\n","/* eslint-disable import/no-anonymous-default-export */\nexport default {\n  main: '/',\n  auth: '/auth',\n  reg: '/registration',\n  calculator: '/calculator',\n  diary: '/diary',\n}\n","import { createAction } from '@reduxjs/toolkit'\r\nconst addProductRequest = createAction('products/addProductRequest')\r\nconst addProductSuccess = createAction('products/addProductSuccess')\r\nconst addProductError = createAction('products/addProductError')\r\n\r\nconst dateEatenProductsRequest = createAction('products/dateEatenProductsRequest')\r\nconst dateEatenProductsSuccess = createAction('products/dateEatenProductsSuccess')\r\nconst dateEatenProductsError = createAction('products/dateEatenProductsError')\r\n\r\nconst deleteProductIdRequest = createAction('products/deleteProductIdRequest')\r\nconst deleteProductIdSuccess = createAction('products/deleteProductIdSuccess')\r\nconst deleteProductIdError = createAction('products/deleteProductIdError')\r\n\r\nconst productActions = {\r\n  addProductRequest,\r\n  addProductSuccess,\r\n  addProductError,\r\n  dateEatenProductsRequest,\r\n  dateEatenProductsSuccess,\r\n  dateEatenProductsError,\r\n  deleteProductIdRequest,\r\n  deleteProductIdSuccess,\r\n  deleteProductIdError\r\n}\r\nexport default productActions\r\n","// export const notValidatedName = state => name =>\n//   state.contacts.items.some(item => item.name === name)\n\nexport const getIsLoggedOn = state => state.user.isLoggedOn\nexport const getUserName = state => state.user.name\nexport const getToken = state => state.user.token\n","import { createAction } from '@reduxjs/toolkit'\n\nexport const calcRequest = createAction('contact/AddContactRequest')\nexport const calcSuccess = createAction('contact/addContactSuccess')\nexport const calcError = createAction('contact/addContactError')\n","import axios from 'axios'\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://slim-mom-backend.herokuapp.com',\n})\naxiosInstance.interceptors.request.use(config => {\n  const token = localStorage.getItem('token')\n\n  config.headers.Authorization = token ? `Bearer ${token}` : ''\n  return config\n})\nexport default axiosInstance\n","import axiosInstance from './AxiosInstance'\n// import axios from 'axios'\n\nimport {\n  onSignUpRequest,\n  onSignUpSuccess,\n  onSignUpFailure,\n  onLoginSuccess,\n  onLoginRequest,\n  onLoginFailure,\n  onLogoutRequest,\n  onLogoutSuccess,\n  onLogoutFailure,\n  onGetUser,\n} from './UserSlice'\n\nexport const getUser = () => async (dispatch, getState) => {\n  dispatch(onSignUpRequest())\n\n  try {\n    const response = await axiosInstance.get('/users/current')\n\n    dispatch(onGetUser(response.data))\n  } catch (error) {\n    dispatch(onLoginFailure(error.message))\n  }\n}\n\nexport const login = payload => (dispatch, getState) => {\n  dispatch(onLoginRequest())\n  axiosInstance\n    .post('/users/login', payload)\n    .then(({ data }) => {\n      localStorage.setItem('token', data.token)\n      return dispatch(onLoginSuccess(data))\n    })\n    .catch(error => {\n      dispatch(onLoginFailure(error.message))\n    })\n}\n\nexport const signUp = payload => (dispatch, getState) => {\n  const { name, email, password } = payload\n  dispatch(onSignUpRequest())\n  axiosInstance\n    .post('/users/signup', { name, email, password })\n    .then(({ data }) => {\n      localStorage.setItem('token', data.token)\n      const newData = dispatch(onSignUpSuccess(data))\n      if (newData) {\n        dispatch(login({ email, password }))\n      }\n    })\n    .catch(error => {\n      dispatch(onSignUpFailure(error.message))\n    })\n}\n\nexport const logout = payload => (dispatch, getState) => {\n  dispatch(onLogoutRequest())\n\n  axiosInstance\n    .post('/users/logout', payload)\n    .then(() => {\n      localStorage.removeItem('token')\n      localStorage.removeItem('calcFormParams')\n      dispatch(onLogoutSuccess())\n    })\n    .catch(error => dispatch(onLogoutFailure(error.message)))\n}\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left:'50%',\r\n    transform: 'translate(-50%,-50%)',\r\n    color: '#FC842D',\r\n  },\r\n}));\r\n\r\nexport default function Loader() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CircularProgress color= \"inherit\" />\r\n    </div>\r\n  );\r\n}","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  name: '',\n  email: '',\n  token: '',\n  isLoggedOn: false,\n  isLoading: false,\n  error: '',\n}\n\nconst { actions, reducer } = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    onSignUpRequest: state => {\n      state.isLoading = true\n    },\n\n    onSignUpSuccess: (state, { payload }) => {\n      state.name = payload.name\n      state.email = payload.email\n      state.token = payload.token\n      state.isLoggedOn = !!payload.token\n    },\n    onSignUpFailure: (state, { payload }) => {\n      state.error = payload.message\n      state.isLoggedOn = false\n      state.isLoading = false\n    },\n\n    onLoginRequest: state => {\n      state.isLoading = true\n    },\n\n    onLoginSuccess: (state, { payload }) => {\n      state.name = payload.name\n      state.email = payload.email\n      state.token = payload.token\n      state.isLoggedOn = true\n      state.isLoading = false\n    },\n\n    onLoginFailure: (state, { payload }) => {\n      state.error = payload.message\n      state.isLoggedOn = false\n      state.isLoading = false\n    },\n\n    onLogoutRequest: state => {\n      state.isLoading = true\n    },\n\n    onLogoutSuccess: (state, { payload }) => {\n      state.name = ''\n      state.email = ''\n      state.token = ''\n      state.isLoading = false\n      state.isLoggedOn = false\n    },\n\n    onLogoutFailure: (state, { payload }) => {\n      state.error = payload.message\n      state.isLoading = false\n    },\n\n    onGetUser: (state, { payload }) => {\n      state.name = payload.name\n      state.email = payload.email\n      state.isLoggedOn = true\n      state.isLoading = false\n    },\n  },\n})\n\nexport const {\n  onSignUpRequest,\n  onSignUpSuccess,\n  onSignUpFailure,\n  onLogout,\n  onGetUser,\n  onLoginRequest,\n  onLoginSuccess,\n  onLoginFailure,\n  onLogoutRequest,\n  onLogoutSuccess,\n  onLogoutFailure,\n} = actions\n\nexport default reducer\n"],"sourceRoot":""}